{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 70d551b6ddf71c267830","webpack:///./src/index.js","webpack:///./src/printo.js"],"names":["printo","obj","options","deepObjectExtend","maxDepth","skipPrototype","rootKey","formatter","prop","type","value","constructorName","path","isPrototype","isPointer","PROTO_IDENTIFIER","POINTER_IDENTIFIER","key","val","pointerFormatter","join","functionFormatter","fn","source","toString","length","substr","indexOf","base","extension","hasOwnProperty","ROOT_KEY","MAXDEPTH_IDENTIFIER","wrapper","mem","WeakMap","visit","set","isVisited","get","typeOf","variable","Object","prototype","call","getConstructor","constructor","name","e","stringifableObj","isHTMLElement","o","match","x","outerHTML","expandObject","depth","isMaxDepth","symbols","child","err","isProto","pointer","printVal","str","concat","p","result"],"mappings":"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","file":"printo.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"printo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"printo\"] = factory();\n\telse\n\t\troot[\"printo\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 70d551b6ddf71c267830","import printo from './printo.js';\nexport default printo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\n * Turn any javascript object into a serializable object\n * @param {any} obj Any Javascript variable\n * @param {object} [options] Options used\n * @param {(number|null)} [options.maxDepth=null] Max depth the function should traverse\n * @param {boolean} [options.skipPrototype=false] Set to true to not enumerate properties from prototype\n * @param {string} [options.rootKey=root] Name use to represent the top level variable\n * @param {formatter} [options.formatter] Function used to format each key, value in the final JSON\n * @param {pointerFormatter} [options.pointerFormatter] Function used to format the pointers path\n * @param {functionFormatter} [options.functionFormatter] Function used to turn functions into strings\n * @returns {object} A serializable object\n */\nfunction printo(obj, options) {\n  'use strict';\n\n  //defaults\n  options = deepObjectExtend({\n    maxDepth: null,\n    skipPrototype: false,\n    rootKey: 'root',\n    formatter: function formatter(obj, prop, type, value, constructorName, path, isPrototype, isPointer, maxDepth) {\n      const PROTO_IDENTIFIER = '__proto__.';\n      const POINTER_IDENTIFIER = ' *POINTER';\n      return {\n        key: `${(isPrototype ? PROTO_IDENTIFIER : '')}${prop} (${type}${(type === 'object' ? ' ' + constructorName : '')})${(isPointer ? POINTER_IDENTIFIER : '')}`,\n        val: maxDepth ? '/* MAX DEPTH */' : value,\n      };\n    },\n    pointerFormatter: function pointerFormatter(obj, path) {\n      return `/* ${path.join('.')} */`;\n    },\n    functionFormatter: function functionFormatter(fn) {\n      var source = fn.toString();\n      if (source.length > 50) {\n        source = source.substr(0, source.indexOf(')') + 1);\n      }\n      return source;\n    }\n  }, options);\n\n\n  function deepObjectExtend(base, extension) {\n    for (var prop in extension) {\n      if (extension.hasOwnProperty(prop)) {\n        if (base[prop] && typeof extension[prop] === 'object') {\n          deepObjectExtend(base[prop], extension[prop]);\n        } else {\n          base[prop] = extension[prop];\n        }\n      }\n    }\n    return base;\n  }\n\n  const ROOT_KEY = options.rootKey;\n  const MAXDEPTH_IDENTIFIER = '/* MAX DEPTH */';\n\n  const wrapper = {};\n  wrapper[ROOT_KEY] = obj;\n\n  const mem = new WeakMap();\n\n  function visit(obj, path) {\n    mem.set(obj, path);\n  }\n\n  function isVisited(obj) {\n    return mem.get(obj);\n  }\n\n  function typeOf(variable) {\n    if (variable === null) {\n      return 'null';\n    } else if (Object.prototype.toString.call(variable) === '[object Array]') {\n      return 'array';\n    } else {\n      return typeof variable;\n    }\n  }\n\n  function getConstructor(obj) {\n    if (typeof obj === 'object') {\n      try {\n        return '' + obj.constructor.name;\n      } catch (e) {\n        return 'UNKNOWN';\n      }\n    }\n    return 'PRIMITIVE';\n  }\n\n  function stringifableObj(obj) {\n\n    function isHTMLElement(o) {\n      return getConstructor(o).match(/HTML|SVG/);\n    }\n\n    if (typeof obj === 'object') {\n      const x = Object.prototype.toString.call(obj);\n      switch (x) {\n        case '[object Date]':\n          return obj.toString();\n        case '[object RegExp]':\n          return obj.toString();\n        case '[object SVGTextElement]':\n          return obj.toString();\n      }\n      if (isHTMLElement(obj)) return (obj.outerHTML || '').match(/<[^>]+>/) + '';\n    }\n    return false;\n  }\n\n  function expandObject(obj, path) {\n\n    const depth = path.length;\n      const isMaxDepth = (typeof options.maxDepth==='number' && depth >= options.maxDepth);\n\n    const symbols = {};\n\n    visit(obj, path);\n\n    // expand child properties\n    for (let prop in obj) {\n\n      // access child\n      let child;\n      try {\n        child = obj[prop];\n      } catch (err) {\n        symbols['/* ' + prop + ' (EXCEPTION) */'] = err;\n        continue; // skip\n      }\n\n      const isProto = !Object.prototype.hasOwnProperty.call(obj, prop);\n      if (options.skipPrototype && isProto) continue;\n\n      const type = typeOf(obj[prop]);\n      const constructorName = getConstructor(child);\n      const pointer = isVisited(child);\n\n      let printVal;\n\n      if (pointer) {\n        printVal = options.pointerFormatter(child, pointer);\n      } else if (type === 'function') {\n        printVal = options.functionFormatter(child);\n      } else if (type === 'object' || type === 'array') {\n\n        let str = stringifableObj(child);\n        if (str) {\n          visit(child, [].concat(path, prop));\n          printVal = str;\n        } else {\n          if (isMaxDepth) {\n            printVal = MAXDEPTH_IDENTIFIER;\n          } else {\n            printVal = expandObject(child, [].concat(path, prop)); // print children using recursion\n          }\n        }\n      } else { // primitive\n        printVal = child;\n      }\n\n      let p = options.formatter(child, prop, type, printVal, constructorName, path, isProto, !!pointer, isMaxDepth);\n      symbols[p.key] = p.val;\n\n    }\n    return symbols;\n  }\n\n  const result = expandObject(wrapper, []);\n  return result;\n}\n\n\n/**\n * Function that formats every object\n * @callback formatter\n * @param {any} obj The actual object reference\n * @param {string} prop Name of the property\n * @param {string} type Type of the value\n * @param {any} value Printable value\n * @param {string} constructorName Name of the constructor if it is an object\n * @param {Array} path Array containing the path of parent properties\n * @param {boolean} isPrototype If this property comes from the prototype\n * @param {boolean} isPointer If this property is a reference to an already visited object\n * @param {boolean} maxDepth If maxDepth is reatched\n * @returns {formatterResult} An object containing a key:string and a val:string property\n */\n\n/**\n * @typedef {object} formatterResult\n * @property {string} key Value stored on the key\n * @property {string} val Value stored on the value\n */\n\n/**\n * Function that formats the value of already visited objects\n * @callback pointerFormatter\n * @param {any} obj The actual object reference\n * @param {Array} path Array containing the path of parent properties\n * @returns {string} Return a string\n */\n\n/**\n * Function that turn functions into strings\n * @callback functionFormatter\n * @param {function} fn A function\n * @returns {string} A printable string\n */\n\nexport default printo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/printo.js"],"sourceRoot":""}